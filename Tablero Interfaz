/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package Interfaz;

import Dominio.Tablero;
import Dominio.Auto;
import java.util.*;

public class TableroInterfaz {

    private static final char[] letras = {'A', 'B', 'C', 'D', 'E', 'F', 'G'};

    public void mostrarTablero(Tablero tablero) {
        imprimirIndicesColumna(tablero.getTamaño());
        for (int fila = 0; fila < tablero.getTamaño(); fila++) {
            imprimirSeparadorFila(tablero.getTamaño());
            imprimirCeldasFila(tablero, fila);
        }
        imprimirSeparadorFila(tablero.getTamaño());
    }

    private void imprimirIndicesColumna(int tamaño) {
        System.out.print("   ");
        for (int i = 0; i < tamaño; i++) {
            System.out.print((i + 1) + "     ");
        }
        System.out.println();
    }

    private void imprimirSeparadorFila(int tamaño) {
        System.out.print("  ");
        for (int columna = 0; columna < tamaño; columna++) {
            if (columna == 0) {
                System.out.print("+");
            }
            System.out.print("-----+");
        }
        System.out.println();
    }

    private void imprimirCeldasFila(Tablero tablero, int fila) {
        List<Auto> autos = tablero.getListaDeAutos(); 
        for (int k = 0; k < 4; k++) {
            if (k == 0) {
                System.out.print(letras[fila] + " ");

            } else {
                System.out.print("  ");
            }
            for (int columna = 0; columna < tablero.getTamaño(); columna++) {
                System.out.print("|");
                Auto autoEnCelda = obtenerAutoEnCelda(autos, letras[fila], columna);
                if (autoEnCelda != null) { 
                    List<String> autoVisual = autoEnCelda.printAuto();
                    System.out.print(autoVisual.get(k));
                } else {
                    System.out.print("     "); // Espacio vacío si no hay auto
                }
            }
            System.out.println("|");
        }
    }
    
    private Auto obtenerAutoEnCelda(List<Auto> autos, char fila, int columna) {
        for (Auto auto : autos) {
            if (auto.getFila() == fila && auto.getColumna() == columna) {
                return auto;
            }
        }
        return null; // No hay auto en esta celda
    }


}
